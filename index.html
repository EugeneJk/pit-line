<!DOCTYPE html>
<html lang="en" ng-app="app">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Bootstrap 101 Template</title>

        <!-- jQuery -->
        <script src="/lib/jquery/jquery.min.js"></script>
        <!-- angularjs -->
        <script src="/lib/angularjs/angular.min.js"></script>
        <!-- Bootstrap -->
        <link href="/lib/bootstrap/css/bootstrap.min.css" rel="stylesheet">
        <script src="/lib/bootstrap/js/bootstrap.min.js"></script>

        <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
        <!--[if lt IE 9]>
          <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
          <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->
        
        <style>
            .disabled-link {
               pointer-events: none;
               cursor: default;
            }
            .radio-label{
                margin-left: 10px;
                margin-bottom: 0px !important;
                width: 40px;
            }
        </style>
    </head>
    <body ng-controller="TodoCtrl">
        <table>
            <tbody>
                <tr>
                    <td>
                        <div class="input-group" ng-repeat="item in inputFields">
                            <span class="input-group-addon">
                                {{item.name}}
                            </span>
                            <input type="text" class="form-control" ng-model='dataFields[item.id]' ng-click="showDrivers(item.id);" ng-enter="selectDriver(item.id)">
                        </div>
                    </td>
                    <td>
                        <div ng-repeat="team in currentTeams | filter:dataFields[selectedItem]">
                            {{team.name}}
                            <span ng-repeat="driver in team.drivers | filter:dataFields[selectedItem]">{{driver}}</span>
                        </div>
                    </td>
                </tr>
            </tbody>
        </table>
       
        
        
        <script type="text/javascript">
        angular.module('app', [])
        .controller('TodoCtrl', function($scope) {
            $scope.dataFields = {
                    'pole-position':'',
                    'first-place':'',
                    'second-place':'',
                    'third-place':'',
                    'fourth-place':'',
                    'fifth-place':'',
                    'tenth-place':'',
                };
                $scope.teams = [
                    {name: 'Red Bull', drivers: ['Себастьян Феттель','Даниэль Риккардо']},
                    {name: 'Mercedes', drivers: ['Льюис Хэмилтон','Нико Росберг']},
                    {name: 'Ferrari', drivers: ['Фернандо Алонсо','Кими Райкконен']},
                    {name: 'Lotus', drivers: ['Роман Грожан','Пастор Мальдонадо']},
                    {name: 'McLaren', drivers: ['Дженсон Баттон','Кевин Магнуссен']},
                    {name: 'Force India', drivers: ['Нико Хюлкенберг',' Серхио Перес']},
                    {name: 'Sauber', drivers: ['Адриан Сутил','Эстебан Гутьеррес']},
                    {name: 'Toro Rosso', drivers: ['Жан-Эрик Вернь','Даниил Квят']},
                    {name: 'Williams', drivers: ['Фелипе Масса','Валттери Боттас']},
                    {name: 'Marussia', drivers: ['Жюль Бьянки','Макс Чилтон']},
                    {name: 'Caterham', drivers: ['Камуи Кобаяши','Маркус Эриксон']},
                ];
                $scope.removableTeams = angular.copy($scope.teams);
                $scope.inputFields = [
                    {id:'pole-position', name: 'Поул'},
                    {id:'first-place', name: '1'},
                    {id:'second-place', name: '2'},
                    {id:'third-place', name: '3'},
                    {id:'fourth-place', name: '4'},
                    {id:'fifth-place', name: '5'},
                    {id:'tenth-place', name: '10'},
                ];
                $scope.selectedItem = null;
                
                $scope.currentTeams = {};
                
                $scope.showDrivers = function(selected)
                {
                    $scope.selectedItem = selected;
                    if($scope.selectedItem === 'pole-position'){
                        $scope.currentTeams = $scope.teams;
                    }else{
                        $scope.currentTeams = $scope.removableTeams;
                    }
                };
                
                $scope.selectDriver = function(selected){
                    console.log(selected);
                }
                
            }).directive('ngEnter', function () {
                return function (scope, element, attrs) {
                    element.bind("keydown keypress", function (event) {
                        if(event.which === 13) {
                            scope.$apply(function (){
                                scope.$eval(attrs.ngEnter);
                            });

                            event.preventDefault();
                        }
                    });
                };
            });
        </script>
    </body>
</html>