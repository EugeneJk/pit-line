<!DOCTYPE html>
<html lang="en" ng-app>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Bootstrap 101 Template</title>

        <!-- jQuery -->
        <script src="/lib/jquery/jquery.min.js"></script>
        <!-- angularjs -->
        <script src="/lib/angularjs/angular.min.js"></script>
        <!-- Bootstrap -->
        <link href="/lib/bootstrap/css/bootstrap.min.css" rel="stylesheet">
        <script src="/lib/bootstrap/js/bootstrap.min.js"></script>

        <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
        <!--[if lt IE 9]>
          <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
          <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->
        
        <style>
            .disabled-link {
               pointer-events: none;
               cursor: default;
            }
            .radio-label{
                margin-left: 10px;
                margin-bottom: 0px !important;
                width: 40px;
            }
        </style>
    </head>
    <body ng-controller="TodoCtrl">
        <table>
            <tbody>
                <tr>
                    <td>
                        <div class="btn-group-vertical">
                            <div class="btn-group" ng-repeat="team in teams">
                                <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
                                    {{team.name}} <span class="caret"></span>
                                </button>
                                <ul class="dropdown-menu" role="menu">
                                    <li ng-repeat="driver in team.drivers" ng-click="selectDriver(team.name, driver.name);" class="ng-class:{'disabled': driver.locked && selectedField != 'pole-position'}">
                                        <a href="#" class="ng-class:{'disabled-link': driver.locked && selectedField != 'pole-position'}">{{driver.name}}</a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </td>
                    <td>
                        <div class="input-group" ng-repeat="item in inputFields">
                            <span class="input-group-addon">
                                <input type="radio" id="{{item.id}}" name="selectedField" ng-model="$parent.selectedField" value="{{item.id}}">
                                <label for="{{item.id}}" class="radio-label">{{item.name}}</label>
                            </span>
                            <input type="text" class="form-control" ng-model='dataFields[item.id]' ng-click="changeRadio(item.id);">
                        </div>
                    </td>
                </tr>
            </tbody>
        </table>
       
        
        
        <script type="text/javascript">
            function TodoCtrl($scope) {
                $scope.dataFields = {
                    'pole-position':'',
                    'first-place':'',
                    'second-place':'',
                    'third-place':'',
                    'fourth-place':'',
                    'fifth-place':'',
                    'tenth-place':'',
                };
                $scope.teams = [
                    {name: 'Red Bull', drivers: [{name:'Себастьян Феттель',locked:true},{name:'Даниэль Риккардо',locked:false}]},
                    {name: 'Mercedes', drivers: [{name:'Льюис Хэмилтон',locked:false},{name:'Нико Росберг',locked:false}]},
                    {name: 'Ferrari', drivers: [{name:'Фернандо Алонсо',locked:false},{name:'Кими Райкконен',locked:false}]},
                    {name: 'Lotus', drivers: [{name:'Роман Грожан',locked:false},{name:'Пастор Мальдонадо',locked:false}]},
                    {name: 'McLaren', drivers: [{name:'Дженсон Баттон',locked:false},{name:'Кевин Магнуссен',locked:false}]},
                    {name: 'Force India', drivers: [{name:'Нико Хюлкенберг',locked:false},{name:' Серхио Перес',locked:false}]},
                    {name: 'Sauber', drivers: [{name:'Адриан Сутил',locked:false},{name:'Эстебан Гутьеррес',locked:false}]},
                    {name: 'Toro Rosso', drivers: [{name:'Жан-Эрик Вернь',locked:false},{name:'Даниил Квят',locked:false}]},
                    {name: 'Williams', drivers: [{name:'Фелипе Масса',locked:false},{name:'Валттери Боттас',locked:false}]},
                    {name: 'Marussia', drivers: [{name:'Жюль Бьянки',locked:false},{name:'Макс Чилтон',locked:false}]},
                    {name: 'Caterham', drivers: [{name:'Камуи Кобаяши',locked:false},{name:'Маркус Эриксон',locked:false}]},
                ];
                $scope.inputFields = [
                    {id:'pole-position', name: 'Поул'},
                    {id:'first-place', name: '1'},
                    {id:'second-place', name: '2'},
                    {id:'third-place', name: '3'},
                    {id:'fourth-place', name: '4'},
                    {id:'fifth-place', name: '5'},
                    {id:'tenth-place', name: '10'},
                ];
                $scope.selectedField = $scope.inputFields[0].id;


                $scope.selectDriver = function(team, dirver)
                {
                    console.log(team, dirver, $scope.selectedField);
                    $scope.dataFields[$scope.selectedField] = dirver;
                };
                $scope.changeRadio = function(selected)
                {
                    $scope.selectedField = selected;
                };

            };
        </script>
    </body>
</html>